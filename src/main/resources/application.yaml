spring:
  datasource:
    # secret-key는 환경변수로 설정
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.mariadb.jdbc.Driver
  servlet:
    multipart:
      max-file-size: 50MB # 하나의 파일의 최대 사이즈
      max-request-size: 60MB # 한번의 요청으로 허용가능한 여러개 파일의 합계 사이즈
  mvc:
    log-request-details: true # 로그에 API 요청 파라미터까지 보도록 처리, 반드시 운영에서는 비활성화
  application:
    name: HeysoDiaryBackEnd
  profiles:
    active: local
  rsocket:
    server:
      port: 8080
  # flyway db-migration
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
      chat:
        options:
          model: gpt-4o-mini
          temperature: 0.7

mybatis:
  mapper-locations: classpath:/mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true

app:
  auth:
    # Fallback for local/dev; override with env var JWT_SECRET in prod
    jwt-secret: ${JWT_SECRET:local-dev-jwt-secret-key-please-change-123456}
    jwt-expiration-ms: 3600000 # 1시간

  oauth2:
    google:
      client-id: 804003243997-pp5313n2tiju5bgkracp3ua5b3s8fakk.apps.googleusercontent.com

  ai:
    context-message-limit: 10
    summary-prefix: "Conversation summary:\n"
